<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Quản lý Yêu cầu Máu</title>
    <link rel="stylesheet" th:href="@{/css/style.css}" />
</head>
<body>
<h1>Danh sách yêu cầu máu chờ xử lý</h1>
<table>
    <thead>
        <tr>
            <th>ID</th><th>Nhóm máu</th><th>Số lượng</th><th>Trạng thái</th><th>Hành động</th>
        </tr>
    </thead>
    <tbody th:each="req : ${requests}">
        <tr>
            <td th:text="${req.id}"></td>
            <td th:text="${req.bloodType}"></td>
            <td th:text="${req.quantity}"></td>
            <td th:text="${req.status}"></td>
            <td>
                <form th:action="@{'/api/requests/' + ${req.id} + '/approve'}" method="post">
                    <button type="submit">Duyệt</button>
                </form>
            </td>
        </tr>
    </tbody>
</table>

<h2>Hoàn tất yêu cầu</h2>
<ul>
    <li th:each="req : ${completed}">
        ID: <span th:text="${req.id}"></span> – Trạng thái: <span th:text="${req.status}"></span>
    </li>
</ul>

<script th:inline="javascript">
// Có thể dùng AJAX để gọi POST /api/requests/{id}/approve và refresh table
</script>

</body>
</html>
